"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.BladeRelationshipViewProvider = exports.BladeVisualizerProvider = void 0;
const path = __importStar(require("path"));
const vscode = __importStar(require("vscode"));
/**
 * Blade„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅÆÈñ¢‰øÇ„Çí„ÉØ„Éº„ÇØ„Éï„É≠„Éº„ÉÅ„ÉÉ„ÇØ„Å´Ë°®Á§∫„Åô„ÇãWebviewProvider
 * Ë¶™Â≠êÈñ¢‰øÇ„ÇíÁü¢Âç∞„ÇÑÁ∑ö„ÅßË°®Áèæ„Åó„ÄÅÈöéÂ±§ÊßãÈÄ†„ÇíË¶ñË¶öÁöÑ„Å´ÂàÜ„Åã„Çä„ÇÑ„Åô„ÅèË°®Á§∫„Åô„Çã
 */
class BladeVisualizerProvider {
    /**
     * BladeVisualizerProvider„ÅÆ„Ç≥„É≥„Çπ„Éà„É©„ÇØ„Çø
     *
     * @param {BladeParser} bladeParser - Blade„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÇíËß£Êûê„Åô„Çã„Éë„Éº„Çµ„Éº„Ç§„É≥„Çπ„Çø„É≥„Çπ
     */
    constructor(bladeParser) {
        this.bladeParser = bladeParser;
    }
    /**
     * „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº„ÇíÈñã„Åè
     *
     * @param {string} filePath - Ë°®Á§∫ÂØæË±°„ÅÆBlade„Éï„Ç°„Ç§„É´„ÅÆ„Éë„Çπ
     */
    async openVisualizer(filePath) {
        // Êó¢Â≠ò„ÅÆ„Éë„Éç„É´„Åå„ÅÇ„ÇãÂ†¥Âêà„ÅØÈñâ„Åò„Çã
        if (this.currentPanel) {
            this.currentPanel.dispose();
        }
        // Êñ∞„Åó„ÅÑWebview„Éë„Éç„É´„Çí‰ΩúÊàê
        this.currentPanel = vscode.window.createWebviewPanel('bladeVisualizer', 'Blade Template Visualizer', vscode.ViewColumn.One, {
            enableScripts: true,
            retainContextWhenHidden: true
        });
        // ÂÆåÂÖ®„Å™„ÉÑ„É™„Éº„ÇíÊßãÁØâ
        const completeTree = await this.bladeParser.buildCompleteTree(filePath);
        if (!completeTree) {
            this.currentPanel.webview.html = this.getErrorHtml('„ÉÜ„É≥„Éó„É¨„Éº„Éà„ÅÆËß£Êûê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
            return;
        }
        // Webview„ÅÆHTML„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíË®≠ÂÆö
        this.currentPanel.webview.html = this.getWebviewContent(completeTree, filePath);
        // Webview„ÅåÈñâ„Åò„Çâ„Çå„ÅüÊôÇ„ÅÆÂá¶ÁêÜ
        this.currentPanel.onDidDispose(() => {
            this.currentPanel = undefined;
        });
        // Webview„Åã„Çâ„ÅÆ„É°„ÉÉ„Çª„Éº„Ç∏„ÇíÂèó‰ø°
        this.currentPanel.webview.onDidReceiveMessage(message => {
            switch (message.command) {
                case 'openFile':
                    this.openFile(message.filePath);
                    break;
                case 'refresh':
                    this.refreshVisualizer(filePath);
                    break;
            }
        });
    }
    /**
     * „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº„ÇíÊõ¥Êñ∞„Åô„Çã
     *
     * @param {string} filePath - Ë°®Á§∫ÂØæË±°„ÅÆBlade„Éï„Ç°„Ç§„É´„ÅÆ„Éë„Çπ
     */
    async refreshVisualizer(filePath) {
        if (this.currentPanel) {
            const completeTree = await this.bladeParser.buildCompleteTree(filePath);
            if (completeTree) {
                this.currentPanel.webview.html = this.getWebviewContent(completeTree, filePath);
            }
        }
    }
    /**
     * „Éï„Ç°„Ç§„É´„ÇíÈñã„Åè
     *
     * @param {string} filePath - Èñã„Åè„Éï„Ç°„Ç§„É´„ÅÆ„Éë„Çπ
     */
    openFile(filePath) {
        vscode.workspace.openTextDocument(filePath).then(document => {
            vscode.window.showTextDocument(document);
        });
    }
    /**
     * Webview„ÅÆHTML„Ç≥„É≥„ÉÜ„É≥„ÉÑ„ÇíÁîüÊàê„Åô„Çã
     *
     * @param {BladeTreeItem} tree - Ë°®Á§∫ÂØæË±°„ÅÆ„ÉÑ„É™„ÉºÊßãÈÄ†
     * @param {string} selectedFilePath - ÈÅ∏Êäû‰∏≠„ÅÆ„Éï„Ç°„Ç§„É´„Éë„Çπ
     * @returns {string} HTML„Ç≥„É≥„ÉÜ„É≥„ÉÑ
     */
    getWebviewContent(tree, selectedFilePath) {
        return `<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blade Template Visualizer</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--vscode-editor-background);
            color: var(--vscode-editor-foreground);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--vscode-panel-border);
			position: relative;
			z-index: 2;
        }
        .title {
            font-size: 18px;
            font-weight: bold;
        }
        .controls {
            display: flex;
            gap: 10px;
        }
        button {
            background-color: var(--vscode-button-background);
            color: var(--vscode-button-foreground);
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background-color: var(--vscode-button-hoverBackground);
        }
        .visualizer-container {
            background-color: var(--vscode-editor-background);
            border: 1px solid var(--vscode-panel-border);
            border-radius: 8px;
            padding: 20px;
            min-height: 600px;
            position: relative;
			overflow: auto;
		}
		.tree-diagram ul { list-style: none; margin: 0; padding-left: 24px; position: relative; }
		.tree-diagram ul.root { padding-left: 0; }
		.tree-diagram ul::before { content: ''; position: absolute; top: 0; bottom: 0; left: 10px; width: 2px; background: var(--vscode-descriptionForeground); }
		.tree-diagram li { position: relative; padding-left: 24px; margin: 6px 0; }
		.tree-diagram li::before { content: ''; position: absolute; top: 12px; left: 0; width: 10px; height: 2px; background: var(--vscode-descriptionForeground); }

        .tree-node {
            display: inline-block;
			margin: 0;
            padding: 12px 16px;
            border: 2px solid var(--vscode-panel-border);
            border-radius: 6px;
            background-color: var(--vscode-editor-background);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        .tree-node:hover {
            border-color: var(--vscode-focusBorder);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .tree-node.selected {
			border-color: #d70022;
			background-color: #d70022;
			color: #ffffff;
        }
        		/* Á•ñÂÖàÔºàextendsÔºâ„ÇíÈùí„ÄÅÂ≠êÂ≠´Ôºàinclude/componentÔºâ„ÇíÁ∑ë„ÅßË°®Áèæ */
		.tree-node.extends { border-color: var(--vscode-charts-blue); }
		.tree-node.include, .tree-node.component { border-color: var(--vscode-charts-green); }
		/* Êú™ÈÅ∏Êäû„ÅÆÊúÄ‰∏ä‰ΩçÁ•ñÂÖà(„É´„Éº„Éà)„ÇíÁ¥´„ÅßË°®Áèæ */
		.tree-node.root-unselected { border-color: var(--vscode-charts-purple); }
        .node-label {
            font-weight: bold;
            margin-bottom: 4px;
        }
        .node-path {
            font-size: 12px;
            opacity: 0.8;
            word-break: break-all;
            max-width: 200px;
        }
        .node-type {
            font-size: 11px;
            text-transform: uppercase;
            margin-top: 4px;
            opacity: 0.7;
        }
        .tree-level {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }
        .tree-level::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--vscode-panel-border);
            z-index: -1;
        }
        .connection-line {
            position: absolute;
            background-color: var(--vscode-panel-border);
            z-index: -1;
        }
        .connection-line.vertical {
            width: 2px;
        }
        .connection-line.horizontal {
            height: 2px;
        }
        .level-indicator {
            background-color: var(--vscode-editor-background);
            padding: 0 10px;
            font-size: 12px;
            color: var(--vscode-descriptionForeground);
            font-weight: bold;
        }
        .legend {
            position: fixed;
			bottom: 20px;
            right: 20px;
            background-color: var(--vscode-editor-background);
            border: 1px solid var(--vscode-panel-border);
            border-radius: 6px;
            padding: 16px;
            font-size: 12px;
			pointer-events: none;
			z-index: 1;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            margin-right: 8px;
			border: 1px solid var(--vscode-panel-border);
        }
				.legend-color.selected { background-color: #d70022; }
		.legend-color.ancestors { background-color: var(--vscode-charts-blue); }
		.legend-color.descendants { background-color: var(--vscode-charts-green); }
		.legend-color.root { background-color: var(--vscode-charts-purple); }
    </style>
</head>
<body>
    <div class="header">
        <div class="title">üéØ Blade Template Visualizer</div>
        <div class="controls">
            <button onclick="refreshVisualizer()">üîÑ Êõ¥Êñ∞</button>
        </div>
    </div>

    <div class="visualizer-container" id="visualizer">
        ${this.generateTreeHTML(tree)}
    </div>

    <div class="legend">
        <div style="font-weight: bold; margin-bottom: 10px;">Âá°‰æã</div>
		<div class="legend-item"><div class="legend-color selected"></div><span>ÈÅ∏Êäû‰∏≠</span></div>
		<div class="legend-item"><div class="legend-color root"></div><span>Êú™ÈÅ∏Êäû„ÅÆÊúÄ‰∏ä‰ΩçÁ•ñÂÖà(„É´„Éº„Éà)</span></div>
		<div class="legend-item"><div class="legend-color ancestors"></div><span>Á•ñÂÖà„ÉÅ„Çß„Éº„É≥ÔºàextendsÔºâ</span></div>
		<div class="legend-item"><div class="legend-color descendants"></div><span>Â≠êÂ≠´Ôºàinclude/componentÔºâ</span></div>
    </div>

    <script>
        const vscode = acquireVsCodeApi();

        // „Éï„Ç°„Ç§„É´„ÇíÈñã„Åè
        function openFile(filePath) {
            vscode.postMessage({
                command: 'openFile',
                filePath: filePath
            });
        }

        // „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº„ÇíÊõ¥Êñ∞
        function refreshVisualizer() {
            vscode.postMessage({
                command: 'refresh'
            });
        }

        // „Éé„Éº„Éâ„ÇØ„É™„ÉÉ„ÇØÊôÇ„ÅÆÂá¶ÁêÜ
        document.addEventListener('click', function(e) {
            if (e.target.closest('.tree-node')) {
                const node = e.target.closest('.tree-node');
                const filePath = node.dataset.filePath;
                if (filePath) {
                    openFile(filePath);
                }
            }
        });

        // Êé•Á∂öÁ∑ö„ÇíÊèèÁîª
        function drawConnections() {
            const levels = document.querySelectorAll('.tree-level');
            levels.forEach((level, levelIndex) => {
                if (levelIndex < levels.length - 1) {
                    const currentNodes = level.querySelectorAll('.tree-node');
                    const nextLevel = levels[levelIndex + 1];
                    const nextNodes = nextLevel.querySelectorAll('.tree-node');
                    
                    currentNodes.forEach((currentNode, nodeIndex) => {
                        if (nodeIndex < nextNodes.length) {
                            const line = document.createElement('div');
                            line.className = 'connection-line vertical';
                            line.style.left = (currentNode.offsetLeft + currentNode.offsetWidth / 2) + 'px';
                            line.style.top = currentNode.offsetTop + currentNode.offsetHeight + 'px';
                            line.style.height = (nextLevel.offsetTop - (currentNode.offsetTop + currentNode.offsetHeight)) + 'px';
                            document.getElementById('visualizer').appendChild(line);
                        }
                    });
                }
            });
        }

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÂÆå‰∫ÜÂæå„Å´Êé•Á∂öÁ∑ö„ÇíÊèèÁîª
        window.addEventListener('load', function() {
            setTimeout(drawConnections, 100);
        });
    </script>
</body>
</html>`;
    }
    /**
     * „Ç®„É©„ÉºË°®Á§∫Áî®„ÅÆHTML„ÇíÁîüÊàê„Åô„Çã
     *
     * @param {string} errorMessage - „Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏
     * @returns {string} „Ç®„É©„ÉºË°®Á§∫Áî®HTML
     */
    getErrorHtml(errorMessage) {
        return `<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error - Blade Template Visualizer</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--vscode-editor-background);
            color: var(--vscode-editor-foreground);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .error-container {
            text-align: center;
            padding: 40px;
            border: 2px solid var(--vscode-errorForeground);
            border-radius: 8px;
            background-color: var(--vscode-inputValidation-errorBackground);
        }
        .error-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }
        .error-message {
            font-size: 18px;
            margin-bottom: 20px;
        }
        .error-details {
            font-size: 14px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="error-icon">‚ùå</div>
        <div class="error-message">„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü</div>
        <div class="error-details">${errorMessage}</div>
    </div>
</body>
</html>`;
    }
    /**
     * „ÉÑ„É™„ÉºÊßãÈÄ†„ÅÆHTML„ÇíÁîüÊàê„Åô„Çã
     *
     * @param {BladeTreeItem} tree - Ë°®Á§∫ÂØæË±°„ÅÆ„ÉÑ„É™„ÉºÊßãÈÄ†
     * @returns {string} „ÉÑ„É™„ÉºÊßãÈÄ†„ÅÆHTML
     */
    generateTreeHTML(tree) {
        const renderNode = (node) => {
            const nodeClass = this.getNodeClass(node);
            const nodeType = this.getNodeTypeLabel(node.type);
            const childrenHtml = node.children.length > 0
                ? `<ul>${node.children.map(c => renderNode(c)).join('')}</ul>`
                : '';
            return `
				<li>
					<div class="tree-node ${nodeClass}" data-file-path="${node.template.filePath}" title="${node.template.filePath}">
                        <div class="node-label">${node.template.fileName}</div>
                        <div class="node-path">${this.getShortPath(node.template.filePath)}</div>
                        <div class="node-type">${nodeType}</div>
                    </div>
					${childrenHtml}
				</li>
			`;
        };
        return `<div class="tree-diagram"><ul class="root">${renderNode(tree)}</ul></div>`;
    }
    /**
     * „Éé„Éº„Éâ„Çí„É¨„Éô„É´„Åî„Å®„Å´„Ç∞„É´„Éº„ÉóÂåñ„Åô„Çã
     *
     * @param {BladeTreeItem} tree - „ÉÑ„É™„ÉºÊßãÈÄ†
     * @returns {BladeTreeItem[][]} „É¨„Éô„É´„Åî„Å®„Å´„Ç∞„É´„Éº„ÉóÂåñ„Åï„Çå„Åü„Éé„Éº„Éâ
     */
    groupNodesByLevel(tree) {
        const levels = [];
        this.collectNodesByLevel(tree, 0, levels);
        return levels;
    }
    /**
     * „Éé„Éº„Éâ„Çí„É¨„Éô„É´„Åî„Å®„Å´ÂèéÈõÜ„Åô„ÇãÔºàÂÜçÂ∏∞Âá¶ÁêÜÔºâ
     *
     * @param {BladeTreeItem} node - ÁèæÂú®„ÅÆ„Éé„Éº„Éâ
     * @param {number} level - ÁèæÂú®„ÅÆ„É¨„Éô„É´
     * @param {BladeTreeItem[][]} levels - „É¨„Éô„É´„Åî„Å®„ÅÆ„Éé„Éº„ÉâÈÖçÂàó
     */
    collectNodesByLevel(node, level, levels) {
        if (!levels[level]) {
            levels[level] = [];
        }
        levels[level].push(node);
        // Â≠êË¶ÅÁ¥†„ÇíÂÜçÂ∏∞ÁöÑ„Å´Âá¶ÁêÜ
        node.children.forEach(child => {
            this.collectNodesByLevel(child, level + 1, levels);
        });
    }
    /**
     * „Éé„Éº„Éâ„ÅÆCSS„ÇØ„É©„Çπ„ÇíÂèñÂæó„Åô„Çã
     *
     * @param {BladeTreeItem} node - „Éé„Éº„Éâ
     * @returns {string} CSS„ÇØ„É©„Çπ
     */
    getNodeClass(node) {
        if (node.isSelected) {
            return 'selected';
        }
        if (node.type === 'root') {
            return 'root-unselected';
        }
        return node.type;
    }
    /**
     * „Éé„Éº„Éâ„Çø„Ç§„Éó„ÅÆ„É©„Éô„É´„ÇíÂèñÂæó„Åô„Çã
     *
     * @param {string} type - „Éé„Éº„Éâ„Çø„Ç§„Éó
     * @returns {string} „É©„Éô„É´
     */
    getNodeTypeLabel(type) {
        switch (type) {
            case 'root': return '„É´„Éº„Éà';
            case 'extends': return 'Á∂ôÊâøÂÖÉ';
            case 'include': return '„Ç§„É≥„ÇØ„É´„Éº„Éâ';
            case 'component': return '„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà';
            case 'usedBy': return 'ÂèÇÁÖßÂÖÉ';
            default: return type;
        }
    }
    /**
     * „Éï„Ç°„Ç§„É´„Éë„Çπ„ÇíÁü≠Á∏ÆË°®Á§∫Áî®„Å´Âä†Â∑•„Åô„Çã
     *
     * @param {string} filePath - „Éï„Ç°„Ç§„É´„Éë„Çπ
     * @returns {string} Áü≠Á∏Æ„Åï„Çå„Åü„Éë„Çπ
     */
    getShortPath(filePath) {
        if (filePath.includes('resources/views/')) {
            return filePath.split('resources/views/')[1];
        }
        return path.basename(filePath);
    }
}
exports.BladeVisualizerProvider = BladeVisualizerProvider;
/**
 * „Çµ„Ç§„Éâ„Éê„Éº„ÅÆ`bladeRelationshipView`„Å´„Ç∞„É©„Éï„ÇíÊèèÁîª„Åô„ÇãWebviewViewProvider
 */
class BladeRelationshipViewProvider {
    constructor(bladeParser) {
        this.bladeParser = bladeParser;
    }
    /**
     * @param webviewView WebviewView
     */
    resolveWebviewView(webviewView) {
        this.view = webviewView;
        webviewView.webview.options = { enableScripts: true };
        // ÂàùÂõûÊèèÁîª
        this.renderForActiveEditor();
        // „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Ç®„Éá„Ç£„ÇøÂ§âÊõ¥„ÅßÊõ¥Êñ∞
        vscode.window.onDidChangeActiveTextEditor(() => this.renderForActiveEditor());
    }
    /**
     * „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™Blade„Éï„Ç°„Ç§„É´„Å´ÂØæ„Åó„Å¶ÊèèÁîª
     */
    async renderForActiveEditor() {
        if (!this.view) {
            return;
        }
        const active = vscode.window.activeTextEditor;
        if (!active || !active.document.fileName.endsWith('.blade.php')) {
            this.view.webview.html = this.renderInfo('Blade„Éï„Ç°„Ç§„É´„ÇíÈñã„Åè„Å®„ÄÅ„Åì„Åì„Å´Èñ¢‰øÇ„Ç∞„É©„Éï„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô');
            return;
        }
        const tree = await this.bladeParser.buildCompleteTree(active.document.fileName);
        if (!tree) {
            this.view.webview.html = this.renderInfo('„ÉÑ„É™„Éº„ÅÆÊßãÁØâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
            return;
        }
        // BladeVisualizerProvider„ÅÆHTMLÁîüÊàê„ÇíÂÜçÂà©Áî®„Åõ„Åö„ÄÅ„Åì„ÅÆ„Éì„É•„ÉºÁî®„ÅÆËªΩÈáèHTML„ÇíÁîüÊàê
        this.view.webview.html = this.renderGraphHtml(tree);
    }
    renderInfo(message) {
        return `<div style="padding:12px;color:var(--vscode-descriptionForeground);">${message}</div>`;
    }
    renderGraphHtml(tree) {
        const renderNode = (n) => {
            const cls = n.isSelected ? 'selected' : (n.type === 'root' ? 'root-unselected' : n.type);
            const children = n.children.length ? `<ul>${n.children.map(renderNode).join('')}</ul>` : '';
            return `<li>
                <div class="tree-node ${cls}">
                    <div class="node-label">${n.template.fileName}</div>
                    <div class="node-path">${this.shortPath(n.template.filePath)}</div>
                </div>
                ${children}
            </li>`;
        };
        return `<!DOCTYPE html><html><head><meta charset="utf-8" />
        <style>
            body{margin:0;padding:8px;background:var(--vscode-editor-background);color:var(--vscode-editor-foreground);} 
            .tree ul{list-style:none;margin:0;padding-left:24px;position:relative}
            .tree ul.root{padding-left:0}
            			.tree ul::before{content:'';position:absolute;top:0;bottom:0;left:10px;width:2px;background:var(--vscode-descriptionForeground)}
			.tree li{position:relative;padding-left:24px;margin:6px 0}
			.tree li::before{content:'';position:absolute;top:12px;left:0;width:10px;height:2px;background:var(--vscode-descriptionForeground)}
            .tree-node{display:inline-block;margin:0;padding:8px 10px;border:2px solid var(--vscode-panel-border);border-radius:6px}
            .tree-node.selected{border-color:#d70022;background:#d70022;color:#fff}
            .tree-node.extends{border-color:var(--vscode-charts-blue)}
            .tree-node.include,.tree-node.component{border-color:var(--vscode-charts-green)}
            .tree-node.root-unselected{border-color:var(--vscode-charts-purple)}
            .node-label{font-weight:bold}
            .node-path{font-size:11px;opacity:.8;max-width:180px;word-break:break-all}
        </style></head><body>
            <div class="tree"><ul class="root">${renderNode(tree)}</ul></div>
        </body></html>`;
    }
    // levelize„ÅØ‰∏çË¶Å„Å´„Å™„Å£„Åü„Åå‰∏ÄÊó¶ÊÆã„Åô
    shortPath(filePath) {
        return filePath.includes('resources/views/') ? filePath.split('resources/views/')[1] : path.basename(filePath);
    }
}
exports.BladeRelationshipViewProvider = BladeRelationshipViewProvider;
BladeRelationshipViewProvider.viewType = 'bladeRelationshipView';
//# sourceMappingURL=BladeVisualizerProvider.js.map