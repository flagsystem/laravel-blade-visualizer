#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# コミットメッセージを取得
commit_msg=$(cat "$1")

# コミットメッセージの形式をチェック
# 形式: type: 説明 (例: feat: 新機能の追加)
if ! echo "$commit_msg" | grep -qE "^(feat|fix|docs|style|refactor|test|chore|ci|build|perf): .+"; then
    echo "❌ コミットメッセージの形式が正しくありません。"
    echo "正しい形式: type: 説明"
    echo "例:"
    echo "  feat: 新機能の追加"
    echo "  fix: バグ修正"
    echo "  docs: ドキュメントの更新"
    echo "  test: テストの追加"
    echo "  refactor: リファクタリング"
    echo "  style: コードスタイルの修正"
    echo "  chore: その他の変更"
    echo "  ci: CI/CDの設定変更"
    echo "  build: ビルド設定の変更"
    echo "  perf: パフォーマンスの改善"
    exit 1
fi

echo "✅ コミットメッセージの形式が正しいです。"
exit 0 
